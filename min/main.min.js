$(document).on("ready",function(){var o=0,t=!1;$(document).on("click",".x-image",function(o){o.stopPropagation(),$(this).remove()}),$(document).on("click","input",function(o){o.stopPropagation()}),$(document).on("click","button",function(o){o.stopPropagation()}),$(document).on("mouseover",".tooltip",function(){""===$(this).attr("name")&&$(this).addClass("hide")}),$(document).on("mouseout",".tooltip",function(){""!==$(this).attr("name")&&$(this).removeClass("hide")}),$(document).on("click",function(n){if(!t){o++;var e=[n.pageX,n.pageY];$(".main-wrapper").append("<div name='' class='x-image tooltip marker"+o+"'><img src='http://malialitman.files.wordpress.com/2014/04/red-x.png'></div>"),$(".marker"+o).css({position:"absolute",top:e[1]-20,left:e[0]-22}),$(".main-wrapper").append("<div class='note-input"+o+"'><input type='textarea' placeholder='Enter your note here...'><button>Submit</button></div>"),$(".note-input"+o).css({position:"absolute",top:e[1]+25,left:e[0]-22}),t=!0,$(document).on("click","button",function(){$(".marker"+o).attr("name",$("input").val()),$(".note-input"+o).remove(),t=!1})}});var n,e,a=!1;$(document).on({mousedown:function(){a=!0},mousemove:function(o){a&&i(o),n=o.pageY,e=o.pageX},mouseup:function(){a=!1,$("html").css("cursor","auto")}});var i=function(o){$("html").css("cursor","move"),$(".main-wrapper").scrollTop($(".main-wrapper").scrollTop()+(n-o.pageY)),$(".main-wrapper").scrollLeft($(".main-wrapper").scrollLeft()+(e-o.pageX))}});